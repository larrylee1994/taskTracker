<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    {% block bootstrap %}
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    {% endblock bootstrap %}
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <title>{% block title %}Larry's Website{% endblock %}</title>

    <style>
      footer {
        background: rgb(255, 255, 255);
        height: 100px;
        padding: auto;
      }

      html,
      body {
        max-width: 100%;
        overflow-x: hidden;
      }
    </style>
  </head>

  <body>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    {% block nav %}
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/dashboard/">Dashboard</a>
      </li>
      {% if user.is_authenticated %}
      <!-- only visable to logged in users -->
      <li class="nav-item">
        <a class="nav-link" href="/worksheets/">Worksheets</a>
      </li>
      <!-- TODO: add logout confirmation -->
      <li class="nav-item">
        <a class="nav-link" href="/logout/">Logout</a>
      </li>
      <li>
        <a class="nav-link">{{user.first_name}} {{user.last_name}}</a>
      </li>
      {% if user.is_superuser %}
      <li class="nav-item">
        <a class="nav-link" href="/admin/">Admin</a>
      </li>
      {% endif %} {% else %}
      <!-- only visable to anonymous users -->
      <li class="nav-item">
        <a class="nav-link" href="/register/">Register</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/login/">Login</a>
      </li>
      {% endif %}
    </ul>
    {% endblock nav %}

    <div class="wrapper container" id="content" , name="content" , class="main">
      <div class="row justify-content-center">
        <div class="col-12">
          <h1 class="mt-2">
            {% block title2 %}Task Tracker{% endblock title2 %}
          </h1>
          <hr class="mt-0 mb-4" />
          {% block content %} {% endblock content %} {% comment %} add empty
          login block for registration pages {% endcomment %} {% block login %}
          {% if user.is_authenticated %} {% else %}
          <div class="card">
            <h5 class="card-header">Error</h5>
            <div class="card-body">
              <h4 class="card-title">Cannot access this page</h4>
              <p class="card-text">Login to gain access.</p>
              <a href="/login/" class="btn btn-primary">Go to Login</a>
            </div>
          </div>
          {% endif %} {% endblock login %}
        </div>
      </div>
    </div>
    {% block foot %}
    <footer class="mt-auto"></footer>
    {% endblock foot %}
  </body>
</html>
